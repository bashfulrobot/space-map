# Confluence Space Sitemap Generator - Environment Configuration
# Copy this file to .env and customize for your environment

# =============================================================================
# CONFLUENCE CONNECTION SETTINGS (Required)
# =============================================================================

# Confluence server base URL (required)
# For Atlassian Cloud: https://your-domain.atlassian.net/wiki
# For Server/Data Center: https://confluence.company.com
CONFLUENCE_BASE_URL=https://your-domain.atlassian.net/wiki

# Authentication - Choose ONE method:

# Option 1: Personal Access Token (RECOMMENDED)
# Generate at: https://id.atlassian.com/manage-profile/security/api-tokens (Cloud)
# Or: Your Confluence → Profile → Personal Access Tokens (Server/DC)
CONFLUENCE_TOKEN=your-personal-access-token-here

# Option 2: Username/Password (less secure)
# CONFLUENCE_USERNAME=your.email@company.com
# CONFLUENCE_PASSWORD=your-password-here

# =============================================================================
# SPACE SETTINGS (Required)
# =============================================================================

# Confluence space key to generate sitemap for (required)
SPACE_KEY=MYSPACE

# =============================================================================
# OUTPUT SETTINGS
# =============================================================================

# Output format: markdown, html, json, csv
OUTPUT_FORMAT=markdown

# Output file name (use empty or /dev/null to skip file output)
OUTPUT_FILE=sitemap.md

# =============================================================================
# API SETTINGS
# =============================================================================

# Number of results per API call (increase for better performance with large spaces)
API_LIMIT=50

# Fields to expand in API responses (advanced users only)
EXPAND_FIELDS=space,body.view,version,container,ancestors

# Include attachments in sitemap (true/false)
INCLUDE_ATTACHMENTS=false

# =============================================================================
# DISPLAY SETTINGS
# =============================================================================

# Show last modified dates in output (true/false)
SHOW_LAST_MODIFIED=true

# Show author information in output (true/false)
SHOW_AUTHOR=true

# Show page version numbers in output (true/false)
SHOW_VERSION=false

# Indentation character for hierarchy (default: two spaces)
INDENT_CHAR="  "

# =============================================================================
# PAGE UPDATE SETTINGS
# =============================================================================

# Update a Confluence page directly with sitemap content (true/false)
UPDATE_PAGE=false

# Page title for the sitemap page (used when UPDATE_PAGE=true)
PAGE_TITLE=Space Sitemap

# Existing page ID to update (optional - if not provided, searches by title)
# PAGE_ID=123456789

# Parent page ID for new pages (optional - creates top-level page if not specified)
# PARENT_PAGE_ID=987654321

# Create page if it doesn't exist (true/false)
CREATE_IF_NOT_EXISTS=true

# Content to add before the sitemap (supports basic markdown)
# Use \n for line breaks in the content
PAGE_CONTENT_PREFIX=""

# Content to add after the sitemap (supports basic markdown)  
# Use \n for line breaks in the content
PAGE_CONTENT_SUFFIX=""

# =============================================================================
# EXAMPLE CONFIGURATIONS
# =============================================================================

# Example 1: Basic file generation
# CONFLUENCE_BASE_URL=https://company.atlassian.net/wiki
# CONFLUENCE_TOKEN=your-token
# SPACE_KEY=DOCS
# OUTPUT_FORMAT=markdown
# OUTPUT_FILE=docs-sitemap.md

# Example 2: Live page updates
# CONFLUENCE_BASE_URL=https://company.atlassian.net/wiki
# CONFLUENCE_TOKEN=your-token
# SPACE_KEY=TEAM
# UPDATE_PAGE=true
# PAGE_TITLE="Team Space Navigation"
# PAGE_CONTENT_PREFIX="# Team Space\n\nWelcome to our team documentation. Below is an automatically updated sitemap:\n\n"
# PAGE_CONTENT_SUFFIX="\n\n---\n*Last updated: $(date)*\n\nFor questions, contact the documentation team."

# Example 3: Content audit
# CONFLUENCE_BASE_URL=https://confluence.company.com
# CONFLUENCE_TOKEN=your-token
# SPACE_KEY=ALL
# OUTPUT_FORMAT=csv
# OUTPUT_FILE=content-audit.csv
# SHOW_VERSION=true
# SHOW_LAST_MODIFIED=true
# SHOW_AUTHOR=true

# Example 4: Minimal output
# CONFLUENCE_BASE_URL=https://company.atlassian.net/wiki
# CONFLUENCE_TOKEN=your-token
# SPACE_KEY=HELP
# SHOW_LAST_MODIFIED=false
# SHOW_AUTHOR=false
# OUTPUT_FORMAT=markdown
# OUTPUT_FILE=simple-sitemap.md